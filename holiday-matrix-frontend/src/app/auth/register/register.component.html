<!--
<div class="register-container">
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <h2>Créer un compte</h2>
    <div class="form-group">
      <label>Nom d’utilisateur</label>
      <input formControlName="username" placeholder="Username">
    </div>
    <div class="form-group">
      <label>Mot de passe</label>
      <input type="password" formControlName="password" placeholder="Password">
    </div>
    <div class="form-group">
      <label>Rôle</label>
      <select formControlName="role">
        <option value="Direction Generale">Direction Generale</option>
        <option value="Admin">Admin</option>
        <option value="Manager">Manager</option>
        <option value="Employee">Employee</option>
      </select>
    </div>
    <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
    <button type="submit" [disabled]="registerForm.invalid">S’enregistrer</button>
  </form>
</div>
-->
<!--
<div class="container">
  <div class="row justify-content-center mt-5">
    <div class="col-md-6">
      <div class="card shadow">
        <div class="card-header bg-success text-white text-center">
          <h2>Holiday Matrix</h2>
          <p class="mb-0">Créer un compte</p>
        </div>
        <div class="card-body">
          <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
            <div class="mb-3">
              <label for="username" class="form-label">Nom d'utilisateur</label>
              <input
                type="text"
                id="username"
                formControlName="username"
                class="form-control"
                [ngClass]="{ 'is-invalid': registerForm.get('username')?.invalid && registerForm.get('username')?.touched }"
                placeholder="Choisissez un nom d'utilisateur">
              <div class="invalid-feedback" *ngIf="registerForm.get('username')?.errors?.['required'] && registerForm.get('username')?.touched">
                Le nom d'utilisateur est requis
              </div>
              <div class="invalid-feedback" *ngIf="registerForm.get('username')?.errors?.['minlength'] && registerForm.get('username')?.touched">
                Le nom d'utilisateur doit contenir au moins 4 caractères
              </div>
            </div>

            <div class="mb-3">
              <label for="password" class="form-label">Mot de passe</label>
              <input
                type="password"
                id="password"
                formControlName="password"
                class="form-control"
                [ngClass]="{ 'is-invalid': registerForm.get('password')?.invalid && registerForm.get('password')?.touched }"
                placeholder="Choisissez un mot de passe">
              <div class="invalid-feedback" *ngIf="registerForm.get('password')?.errors?.['required'] && registerForm.get('password')?.touched">
                Le mot de passe est requis
              </div>
              <div class="invalid-feedback" *ngIf="registerForm.get('password')?.errors?.['minlength'] && registerForm.get('password')?.touched">
                Le mot de passe doit contenir au moins 6 caractères
              </div>
            </div>

            <div class="mb-3">
              <label for="confirmPassword" class="form-label">Confirmer le mot de passe</label>
              <input
                type="password"
                id="confirmPassword"
                formControlName="confirmPassword"
                class="form-control"
                [ngClass]="{ 'is-invalid': registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched }"
                placeholder="Confirmez votre mot de passe">
              <div class="invalid-feedback" *ngIf="registerForm.get('confirmPassword')?.errors?.['required'] && registerForm.get('confirmPassword')?.touched">
                La confirmation du mot de passe est requise
              </div>
              <div class="invalid-feedback" *ngIf="registerForm.get('confirmPassword')?.errors?.['passwordMismatch']">
                Les mots de passe ne correspondent pas
              </div>
            </div>

            <div class="mb-3">
              <label for="role" class="form-label">Rôle</label>
              <select
                id="role"
                formControlName="role"
                class="form-select"
                [ngClass]="{ 'is-invalid': registerForm.get('role')?.invalid && registerForm.get('role')?.touched }">
                <option value="EMPLOYEE">Employé</option>
                <option value="MANAGER">Manager</option>
                <option value="HEAD_OF_SERVICE">Chef de service</option>
                <option value="DIRECTION_GENERAL">Direction Générale</option>
              </select>
              <div class="invalid-feedback" *ngIf="registerForm.get('role')?.errors?.['required'] && registerForm.get('role')?.touched">
                Le rôle est requis
              </div>
            </div>

            <div *ngIf="errorMessage" class="alert alert-danger">
              {{ errorMessage }}
            </div>

            <div *ngIf="successMessage" class="alert alert-success">
              {{ successMessage }}
            </div>

            <div class="d-grid gap-2">
              <button type="submit" class="btn btn-success" [disabled]="registerForm.invalid || loading">
                <span *ngIf="loading" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                S'inscrire
              </button>
              <a routerLink="/login" class="btn btn-outline-secondary">Déjà inscrit ? Se connecter</a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
-->

<div class="register-container">
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <h2>Créer un compte</h2>
    <div class="form-group">
      <label>Nom d'utilisateur*</label>
      <input formControlName="username" placeholder="Nom d'utilisateur" required>
      <div *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched" class="error-message">
        Le nom d'utilisateur est obligatoire
      </div>
    </div>
    <div class="form-group">
      <label>Mot de passe*</label>
      <input type="password" formControlName="password" placeholder="Mot de passe" required>
      <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" class="error-message">
        Le mot de passe est obligatoire
      </div>
    </div>

    <div class="form-group">
      <label>Confirmer mot de passe*</label>
      <input type="password" formControlName="confirmPassword" placeholder="Confirmer mot de passe" required>
      <div *ngIf="registerForm.hasError('passwordMismatch') && registerForm.get('confirmPassword')?.touched" class="error-message">
        Les mots de passe ne correspondent pas
      </div>
    </div>

    <div class="form-group">
      <label>Adresse email</label>
      <input type="email" formControlName="email" placeholder="Email">
    </div>
    <div class="form-group">
      <label>Prénom</label>
      <input formControlName="firstName" placeholder="Prénom">
    </div>
    <div class="form-group">
      <label>Nom</label>
      <input formControlName="lastName" placeholder="Nom">
    </div>
    <div class="form-group">
      <label>Département</label>
      <input formControlName="department" placeholder="Département">
    </div>
    <div class="form-group">
      <label>Poste</label>
      <input formControlName="position" placeholder="Poste">
    </div>
    <div class="form-group">
      <label>Rôle*</label>
      <select formControlName="role" required>
        <option value="DIRECTION_GENERAL">Direction Générale</option>
        <option value="HEAD_OF_SERVICE">Head of Service</option>
        <option value="MANAGER">Manager</option>
        <option value="EMPLOYEE">Employé</option>
      </select>
    </div>
    <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
    <div class="form-actions">
      <button type="submit" [disabled]="registerForm.invalid">S'enregistrer</button>
      <p>Déjà inscrit? <a routerLink="/login">Se connecter</a></p>
    </div>
  </form>
</div>
